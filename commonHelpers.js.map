{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction fetchImages(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  const params = new URLSearchParams({\n    key: '44613226-2c9c9ee480393e9e269050800',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 21,\n  });\n\n  const url = `${BASE_URL}?${params}`;\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        urlError();\n      } else {\n        return data.hits;\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nconst optionsError = {\n  icon: '',\n  backgroundColor: '#CB1E1E',\n  position: 'topRight',\n  messageColor: 'white',\n  close: false,\n  closeOnEscape: true,\n  closeOnClick: true,\n  displayMode: 'replace',\n};\n\nconst urlError = () =>\n  iziToast.error({\n    message:\n      'Sorry, there are no images matching your search query. Please, try again!',\n    ...optionsError,\n  });\n\nconst showError = message =>\n  iziToast.error({\n    message: 'Please! Type something.',\n    ...optionsError,\n  });\n\nexport { fetchImages, showError };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nfunction renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images.map(image => createImageCard(image)).join('');\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n      showCounter: false,\n      fadeSpeed: 250,\n    });\n  }\n}\n\nfunction createImageCard(image) {\n  return `<li class=\"gallery-item\">\n          <div class=\"gallery-item-image\">\n          <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" /></a>\n          </div>\n          <ul class=\"image-details\">\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Likes</h2>\n              <p class=\"image-details-value\">${image.likes}</p>\n            </li>\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Views</h2>\n              <p class=\"image-details-value\">${image.views}</p>\n            </li>\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Comments</h2>\n              <p class=\"image-details-value\">${image.comments}</p>\n            </li>\n            <li class=\"image-details-item\">\n              <h2 class=\"image-details-title\">Downloads</h2>\n              <p class=\"image-details-value\">${image.downloads}</p>\n            </li>\n          </ul>\n        </li>`;\n}\n\nfunction showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n\nfunction clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n\nexport { renderGallery, showLoader, hideLoader, clearGallery };\n","import { fetchImages, showError } from './js/pixabay-api.js';\nimport {\n  renderGallery,\n  showLoader,\n  hideLoader,\n  clearGallery,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.form');\nconst input = document.querySelector('.input');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  clearGallery();\n  const query = input.value.trim();\n  if (!query) {\n    showError();\n    return;\n  }\n\n  showLoader();\n  input.value = '';\n  fetchImages(query)\n    .then(images => {\n      renderGallery(images);\n    })\n    .catch(error => {\n      showError(message, error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["fetchImages","query","BASE_URL","params","url","response","data","urlError","error","optionsError","iziToast","showError","message","lightbox","renderGallery","images","gallery","image","createImageCard","SimpleLightbox","showLoader","loader","hideLoader","clearGallery","searchForm","input","event"],"mappings":"6vBAGA,SAASA,EAAYC,EAAO,CAC1B,MAAMC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,QAEA,QAAOD,EAAK,IAEpB,CAAK,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEA,MAAMC,EAAe,CACnB,KAAM,GACN,gBAAiB,UACjB,SAAU,WACV,aAAc,QACd,MAAO,GACP,cAAe,GACf,aAAc,GACd,YAAa,SACf,EAEMF,EAAW,IACfG,EAAS,MAAM,CACb,QACE,4EACF,GAAGD,CACP,CAAG,EAEGE,EAAYC,GAChBF,EAAS,MAAM,CACb,QAAS,0BACT,GAAGD,CACP,CAAG,ECpDH,IAAII,EAEJ,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACnEJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,IACd,YAAa,GACb,UAAW,GACjB,CAAK,CAEL,CAEA,SAASD,EAAgBD,EAAO,CAC9B,MAAO;AAAA;AAAA,qBAEYA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAI9D,CAEA,SAASG,GAAa,CACpB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEA,SAASC,GAAa,CACpB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEA,SAASE,GAAe,CACtB,MAAMP,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CCnDA,MAAMQ,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAQ,SAAS,cAAc,QAAQ,EAE7CD,EAAW,iBAAiB,SAAUE,GAAS,CAC7CA,EAAM,eAAc,EACpBH,IACA,MAAMtB,EAAQwB,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACxB,EAAO,CACVU,IACA,MACD,CAEDS,IACAK,EAAM,MAAQ,GACdzB,EAAYC,CAAK,EACd,KAAKc,GAAU,CACdD,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAMP,GAAS,CACdG,EAAU,OAAc,CAC9B,CAAK,EACA,QAAQ,IAAM,CACbW,GACN,CAAK,CACL,CAAC"}